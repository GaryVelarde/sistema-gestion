<p-toast key="tst"></p-toast>
<div class="grid">
    <div class="col-12">
        <app-breadcrumb [items]="breadcrumbItems"></app-breadcrumb>
        <div class="card px-6 py-6">
            <p-toolbar styleClass="mb-4">
                <ng-template pTemplate="left">
                    <div class="my-2">
                        <button
                            pButton
                            pRipple
                            label="nuevo plan"
                            icon="pi pi-plus"
                            class="mr-2"
                            (click)="goToPlaneRegister()"
                        ></button>
                    </div>
                </ng-template>
            </p-toolbar>
            <p-carousel
                [value]="products"
                [numVisible]="1"
                [numScroll]="1"
                [circular]="false"
                [responsiveOptions]="responsiveOptions"
            >
                <ng-template let-product pTemplate="item">
                    <p-table
                        [value]="previewData"
                        styleClass="p-datatable-gridlines"
                        responsiveLayout="scroll"
                    >
                        <ng-template pTemplate="header">
                            <tr>
                                <th>COD.ACT</th>
                                <th>ACTIVIDAD FUNCIONAL</th>
                                <th>COD. TAREA</th>
                                <th>TAREAS</th>
                                <th>Ene.</th>
                                <th>Feb.</th>
                                <th>Mar.</th>
                                <th>Abr.</th>
                                <th>May.</th>
                                <th>Jun.</th>
                                <th>Jul.</th>
                                <th>Ago.</th>
                                <th>Sep.</th>
                                <th>Oct.</th>
                                <th>Nov.</th>
                                <th>Dic.</th>
                                <th>AVANCES</th>
                            </tr>
                        </ng-template>
                        <ng-template
                            pTemplate="body"
                            let-data
                            let-rowIndex="rowIndex"
                        >
                            <tr>
                                <!-- Mostrar la actividad funcional sÃ³lo en la primera fila correspondiente -->
                                <td
                                    *ngIf="shouldShowRowspan(rowIndex)"
                                    [attr.rowspan]="getRowspan(data.codAct)"
                                >
                                    {{ data.codAct }}
                                </td>
                                <td
                                    *ngIf="shouldShowRowspan(rowIndex)"
                                    [attr.rowspan]="getRowspan(data.codAct)"
                                >
                                    {{ data.actividadFuncional }}
                                </td>

                                <td>{{ data.codTarea }}</td>
                                <td>{{ data.tarea }}</td>
                                <td [innerHTML]="data.meses[0]"></td>
                                <td [innerHTML]="data.meses[1]"></td>
                                <td [innerHTML]="data.meses[2]"></td>
                                <td [innerHTML]="data.meses[3]"></td>
                                <td [innerHTML]="data.meses[4]"></td>
                                <td [innerHTML]="data.meses[5]"></td>
                                <td [innerHTML]="data.meses[6]"></td>
                                <td [innerHTML]="data.meses[7]"></td>
                                <td [innerHTML]="data.meses[8]"></td>
                                <td [innerHTML]="data.meses[9]"></td>
                                <td [innerHTML]="data.meses[10]"></td>
                                <td [innerHTML]="data.meses[11]"></td>
                                <td>{{ data.avances }}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </ng-template>
            </p-carousel>
        </div>
    </div>
</div>
